<html>
<head><meta http-equiv=Content-Type content='text/html; charset=UTF-8'>

<title>Virus Source Code Database :: roz_asm</title>
<meta name="KEYWORDS" content="roz.asm, virus source, source code, assembly language, assembly programming, hacking, cracking, michaelangelo, stoned, pong, cascade, ambulance, f-prot, mcafee, panda, solomon, anti-virus, anti virus, computer virus">
<meta name="DESCRIPTION" content="Virus Source Code Database - source for roz.asm">
</head><body><table border=0 cellpadding=0 cellspacing=0 width="100%">
<tr><td valign=top width="25%">
<a href="rage_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/rage_asm.php">rage_asm</a><br>
<a href="rammonst_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/rammonst_asm.php">rammonst_asm</a><br>
<a href="rand_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/rand_asm.php">rand_asm</a><br>
<a href="ranger_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/ranger_asm.php">ranger_asm</a><br>
<a href="rapbetr_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/rapbetr_asm.php">rapbetr_asm</a><br>
<a href="rape1882_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/rape1882_asm.php">rape1882_asm</a><br>
<a href="rapeiib_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/rapeiib_asm.php">rapeiib_asm</a><br>
<a href="rape_v20_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/rape_v20_asm.php">rape_v20_asm</a><br>
<a href="rausr757_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/rausr757_asm.php">rausr757_asm</a><br>
<a href="ravage_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/ravage_asm.php">ravage_asm</a><br>
<a href="raver_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/raver_asm.php">raver_asm</a><br>
<a href="raygun2_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/raygun2_asm.php">raygun2_asm</a><br>
<a href="raygun_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/raygun_asm.php">raygun_asm</a><br>
<a href="readvir_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/readvir_asm.php">readvir_asm</a><br>
<a href="rec_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/rec_asm.php">rec_asm</a><br>
<a href="red_merc_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/red_merc_asm.php">red_merc_asm</a><br>
<a href="redmerc_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/redmerc_asm.php">redmerc_asm</a><br>
<a href="redx_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/redx_asm.php">redx_asm</a><br>
<a href="replic_d_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/replic_d_asm.php">replic_d_asm</a><br>
<a href="republic_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/republic_asm.php">republic_asm</a><br>
<a href="retal1_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/retal1_asm.php">retal1_asm</a><br>
<a href="retal2_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/retal2_asm.php">retal2_asm</a><br>
<a href="retal3_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/retal3_asm.php">retal3_asm</a><br>
<a href="retal4_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/retal4_asm.php">retal4_asm</a><br>
<a href="reyes_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/reyes_asm.php">reyes_asm</a><br>
<a href="richard__asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/richard__asm.php">richard__asm</a><br>
<a href="richards_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/richards_asm.php">richards_asm</a><br>
<a href="riot_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/riot_asm.php">riot_asm</a><br>
<a href="rip_hd_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/rip_hd_asm.php">rip_hd_asm</a><br>
<a href="ritzen_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/ritzen_asm.php">ritzen_asm</a><br>
<a href="riverbot_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/riverbot_asm.php">riverbot_asm</a><br>
<a href="rizwi_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/rizwi_asm.php">rizwi_asm</a><br>
<a href="rna_pas.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/rna_pas.php">rna_pas</a><br>
<a href="rnd__asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/rnd__asm.php">rnd__asm</a><br>
<a href="rnd_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/rnd_asm.php">rnd_asm</a><br>
<a href="rnd_num_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/rnd_num_asm.php">rnd_num_asm</a><br>
<a href="romulan_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/romulan_asm.php">romulan_asm</a><br>
<a href="roseanne_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/roseanne_asm.php">roseanne_asm</a><br>
<a href="roz_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/roz_asm.php">roz_asm</a><br>
<a href="rtl4_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/rtl4_asm.php">rtl4_asm</a><br>
<a href="runt_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/runt_asm.php">runt_asm</a><br>
<a href="runt_b_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/runt_b_asm.php">runt_b_asm</a><br>
<a href="runt-b_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/runt-b_asm.php">runt-b_asm</a><br>
<a href="rush_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/rush_asm.php">rush_asm</a><br>
<a href="rushhour_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/rushhour_asm.php">rushhour_asm</a><br>
<a href="rushhr_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/rushhr_asm.php">rushhr_asm</a><br>
<a href="rush_vir_asm.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/rush_vir_asm.php">rush_vir_asm</a><br>
</td>
<td valign=top><center><h2>Virus Source Code Database</h2>
<script type="text/javascript">
<!--
                  google_ad_client = "pub-4280558320877613";
                  google_ad_width = 468;
                  google_ad_height = 60;
                  google_ad_format = "468x60_as";
                  google_ad_channel = "5524853059";
                  google_ad_type = "text";
                  google_color_border = "A2CCEE";
                  google_color_bg = "EFEFEF";
                  google_color_link = "000000";
                  google_color_url = "006600";
                  google_color_text = "000000";
        //--></script>
<script type="text/javascript" src="show_ads.js" tppabs="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script>
<p>
<i>This source code is provided for computer programming history.  This source code can be used for good or evil.  It can 
destroy computer data.  Be aware that I am making no claims to authorship or usability of the information found in the 
Virus Source Code Database.  I accept no responsibility for data corruption due to the use of the following information.  The 
information contained on this website is for <b>Information Purposes Only</b>!!!</i><p>
<p>
[ <a href="index.php.htm" tppabs="http://www.totallygeek.com/vscdb/1/index.php">1</a> ]&nbsp;
[ <a href="index-1.php.htm" tppabs="http://www.totallygeek.com/vscdb/a/index.php">a</a> ]&nbsp;
[ <a href="index-2.php.htm" tppabs="http://www.totallygeek.com/vscdb/b/index.php">b</a> ]&nbsp;
[ <a href="index-3.php.htm" tppabs="http://www.totallygeek.com/vscdb/c/index.php">c</a> ]&nbsp;
[ <a href="index-4.php.htm" tppabs="http://www.totallygeek.com/vscdb/d/index.php">d</a> ]&nbsp;
[ <a href="index-5.php.htm" tppabs="http://www.totallygeek.com/vscdb/e/index.php">e</a> ]&nbsp;
[ <a href="index-6.php.htm" tppabs="http://www.totallygeek.com/vscdb/f/index.php">f</a> ]&nbsp;
[ <a href="index-7.php.htm" tppabs="http://www.totallygeek.com/vscdb/g/index.php">g</a> ]&nbsp;
[ <a href="index-8.php.htm" tppabs="http://www.totallygeek.com/vscdb/h/index.php">h</a> ]&nbsp;
[ <a href="index-9.php.htm" tppabs="http://www.totallygeek.com/vscdb/i/index.php">i</a> ]&nbsp;
[ <a href="index-10.php.htm" tppabs="http://www.totallygeek.com/vscdb/j/index.php">j</a> ]&nbsp;
[ <a href="index-11.php.htm" tppabs="http://www.totallygeek.com/vscdb/k/index.php">k</a> ]&nbsp;
[ <a href="index-12.php.htm" tppabs="http://www.totallygeek.com/vscdb/l/index.php">l</a> ]&nbsp;
[ <a href="index-13.php.htm" tppabs="http://www.totallygeek.com/vscdb/m/index.php">m</a> ]&nbsp;
[ <a href="index-14.php.htm" tppabs="http://www.totallygeek.com/vscdb/n/index.php">n</a> ]&nbsp;
[ <a href="index-15.php.htm" tppabs="http://www.totallygeek.com/vscdb/o/index.php">o</a> ]&nbsp;
[ <a href="index-16.php.htm" tppabs="http://www.totallygeek.com/vscdb/p/index.php">p</a> ]&nbsp;
[ <a href="index-17.php.htm" tppabs="http://www.totallygeek.com/vscdb/q/index.php">q</a> ]&nbsp;
[ <a href="index-18.php.htm" tppabs="http://www.totallygeek.com/vscdb/r/index.php">r</a> ]&nbsp;
[ <a href="index-19.php.htm" tppabs="http://www.totallygeek.com/vscdb/s/index.php">s</a> ]&nbsp;
[ <a href="index-20.php.htm" tppabs="http://www.totallygeek.com/vscdb/t/index.php">t</a> ]&nbsp;
[ <a href="index-21.php.htm" tppabs="http://www.totallygeek.com/vscdb/u/index.php">u</a> ]&nbsp;
[ <a href="index-22.php.htm" tppabs="http://www.totallygeek.com/vscdb/v/index.php">v</a> ]&nbsp;
[ <a href="index-23.php.htm" tppabs="http://www.totallygeek.com/vscdb/w/index.php">w</a> ]&nbsp;
[ <a href="index-24.php.htm" tppabs="http://www.totallygeek.com/vscdb/x/index.php">x</a> ]&nbsp;
[ <a href="index-25.php.htm" tppabs="http://www.totallygeek.com/vscdb/y/index.php">y</a> ]&nbsp;
[ <a href="index-26.php.htm" tppabs="http://www.totallygeek.com/vscdb/z/index.php">z</a> ]&nbsp;
</center><p><textarea cols=90 rows=30>

; -------------------------------------------------------------------------
; ROZ.ASM - Rozpravka o zlom pascalistovi     Sourced by Roman_S  (c) 1991
; -------------------------------------------------------------------------

INT_8		equ	20h			;Interrupt 0x08  (8*4=20h)
video_cntr	equ	463h			;Video controller port
timer_count	equ	46Ch			;Timer tick (since CPU reset)
x_sur		equ	8			;Suradnica x=4,y=0

code		segment	byte public
		assume	cs:code, ds:code

		org	100h
roz		proc	far
start:		jmp	main

video_adr	dw	0B800h			;Sem si ulozi zac. video adr
old_timer	dd	00000h			;Old timer address
; ----------------------------------------------------------------
new_timer:	push	ax			;Backup AX
		push	es			;Backup ES
		mov	ax,0
		mov	es,ax			;Set ES = 0
		mov	al,es:timer_count	;AL = system timer count
		pop	es			;Restore ES
		and	al,5			;Kazdych 5 tikov akcia
		jnz	no
		call	action

no:		pop	ax			;Restore AX
end_timer:	jmp	cs:old_timer		;Original Interrupt
; -------------------------------------------------------------------
ofset		dw	124h
text		db	'                                                 Ahoj, mile deticky.   Dnes vam poviem novu rozpravku. Urcite ju vsak uz poznate. Vola sa                     O ZLOM PASKALISTOVI'
		db	'                   Kde bolo, tam bolo, zila stara dobra zena, ktora vychovala strnast chlapcov ako @. Vsetci boli prenesmierne inteligentni, iba ten naj@ robil v Pascale.     Jedneho dna prisla medzi nich ma'
		db	't a povedala : "Vstavajte @, berte sa hor !!!      Starej mame niekto znenazdajky ukazal pascalovsky program a uz treti den lezi s vysokymi teplotami. Niekto by sa mohol obetovat a ist ju doopatrovat. "     Ty ty ty ty ty ! '
		db	'Ano, ty ! @ moj najdrahsi, pascalista najtuhsi, vyznavac tejto pliagy najvacsi, mal by si sa pokusit odcinit svoju prevelku vinu a ist tam.      Nas hrdina zobral zopar peknych listingov (mysliac si, ze staru mamu uplne dora'
		db	'zi) a pobral sa cestou-necestou.    Ide, ide a premysla : Nech zije PASCAL. S Pascalom na vecne casy a nikdy inak !      Len ten team je pevny, isty, v ktorom vladnu pascalisti !      Jeden program denne.       atakdalej ata'
		db	'kdalej atakdalej a podobne paranoidne myslienky mu rezonuju v hlave. Babku a svojich starsich bratov nikdy nevedel pochopit. Sice vzdy pisali lepsie a efektivnejsie programy, ktore im v C-cku chodili trikrat rychlejsie a bol'
		db	'i podstatne prehladnejsie a pouzivatelnejsie na vsetko ale nikdy nevedeli pochopit, ze JEDINOU spravnou cestou je paskal.  ... a este dalsie myslienky mu kruzili hlavou ako ventilator.           Ide............   (psycho I) '
		db	'                 Ide............   (psycho II)                 Ide............   a zrazu mu trajektoriu pretal matny tien. Z krovia sa vytrcila chlpata hlava vlka s velkymi usami a vecne vlhkym jazykom. A hovori : "Ahoj @. K'
		db	'am ides ?"  -  "No predsa k starej mame, vlcik."  -  "A kde byva tvoja draha stara mama ?"  -  "Aaale, za lesom v chalupke."  -  "Tak ahoj." ...a vlk sa pobral svojou cestou.          Nas hrdina si potom dve hodiny lamal hla'
		db	'vu nad tym, ci vlk programuje v pascale alebo v C-cku.         (* Pasol Jano tri voly u haja. Pasol Jano tri voly u haja. Pasol Jano tri voly na zelenej dateli. Pasol Jano tri voly u haja. *)           Vlk pozorne sledoval m'
		db	'iznuceho @. Ako poriadny C-ckar spravne odhadol situaciu a pri znamom zapachu pascalovskych programov sa v nom ozval sucit so staruckou babickou. Rozhodol sa konat.          (* Tri dni ma nahanali, aj tak ma nedostali tri dn'
		db	'i ma este budu, aj tak ma nedostanu    ! *)             Zatial @ prisiel k znamej chalupke s rozmachom kopol do dveri. Zvnutra sa ozvalo : "Kto tam ?" Otvoril dvere, vosiel dnu a uvidel babicku. Hovori : "Babka, preco mas ta'
		db	'ke velke oci ?" - "Lebo som videla pascalovsky program." - "A preco mas take velke usi ?" - "*" - "A preco mas take velke ZUBY ? " --- "Aby som mohla ucinnejsie likvidovat paskalistov.            HAM.             HAM.   Auuu'
		db	'...          HAM.                       Hned nato babicka Kernighan vyliezla spod postele a spolocne s vlkom Ritchiem oslavili vitazstvo flasou ginu.                                                 ',0
hodnota_cntr	dw	0
roz		endp

; -----------------------------------------------------------------------
action		proc	near			;Volane z INT 8 kazdych 5 tikov
		push	ax			;Backup
		push	bx
		push	cx
		push	dx
		push	ds
		push	es
		push	si
		push	di
		push	bp
		call	asi_zrnenie		;Testovanie DMA
		mov	ah,0Fh			;Read video mode
		int	10h			;Video display al = mode
		mov	cs:video_adr,0B000h	;MDA display
		cmp	al,7
		je	monochrom
		mov	cs:video_adr,0B800h	;CGA,EGA...
monochrom:	mov	ax,cs:video_adr
		mov	es,ax			;Set ES to begin video
		cmp	byte ptr es:x_sur,'F'	;Compare Video pos 4 & "File"
		jne	no_pascal
		cmp	byte ptr es:x_sur+2,'i'
		jne	no_pascal
		cmp	byte ptr es:x_sur+4,'l'
		jne	no_pascal
		cmp	byte ptr es:x_sur+6,'e'
		jne	no_pascal
		xor	ax,ax			;Zero DS
		mov	ds,ax
		mov	ax,ds:video_cntr	;Video controller chip
		add	ax,6
		mov	cs:hodnota_cntr,ax	;Save
		mov	si,cs:ofset		;Offset v texte
		inc	cs:ofset		;Posun sa v nom
		call	asi_zrnenie
		mov	di,960h			;15 * (80*2)  15ty riadok
		mov	cx,80			; 1 line
		mov	ah,7			;Black & White

next:		mov	al,cs:[si]		;Char from text
		or	al,al			;Koniec textu ?
		jnz	cont			;Jump if no
		mov	cs:ofset,offset text	;Set to begin text
cont:		mov	es:[di],ax		;Push to video
		inc	si			;Next char 
		add	di,2			;Next video pos
		loop	next			;All char
  
no_pascal:	pop	bp			;Nie je dovod k vypisu
		pop	di			;Restore registers
		pop	si
		pop	es
		pop	ds
		pop	dx
		pop	cx
		pop	bx
		pop	ax
		retn				;Return from action
action		endp

; --------------------------------------------------------------------------
asi_zrnenie	proc	near
		retn			; Tu sa zasluckuje ak nie je PP 06
		mov	dx,cs:hodnota_cntr	;Cntr + 4 port
cakaj1:		in	al,dx			;Port 0, DMA-1 bas&add ch 0
		and	al,8
		jnz	cakaj1			;Jump if not zero
cakaj2:		in	al,dx			;Port 0, DMA-1 bas&add ch 0
		and	al,8
		jz	cakaj2			;Jump if zero
		retn
asi_zrnenie	endp
rezident	label byte			;Po tadialto rezidentne

; ------------------------------------------------------------------------
program		proc	near
		mov	ax,0
		mov	es,ax			;Set ES = 0
		cli				;Disable interrupts
		mov	bx,es:INT_8		;Old timer
		mov	ax,es:INT_8+2
		mov	word ptr old_timer,bx	;Save
		mov	word ptr old_timer+2,ax
		mov	word ptr es:INT_8,offset new_timer
		mov	es:INT_8+2,cs		;Set INT 8 to new_timer
		sti				;Enable interrupts
		retn
program		endp

main:		call	program
		mov	dx,offset rezident	;Last addres to keep
		int	27h			;Terminate & stay resident

code		ends
		end	start

</textarea></td></tr></table></body></html>
